{% load static %}
{% load tailwind_tags %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="msapplication-TileColor" content="#908f9e"/>
    <meta name="theme-color" content="#908f9e"/>
    <link rel="stylesheet" href="{% static 'css/dist/styles.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'css/global.css' %}"> -->
    <link rel="stylesheet" href="{% static 'css/open-weather-icons.css' %}">
    <link rel="stylesheet" href="{% static '/css/weather-icons.min.css' %}">
    <link rel="stylesheet" href="{% static '/css/weather-icons-wind.min.css' %}">
    <!-- Fonts and icons -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <!-- Nucleo Icons -->
    <!-- <link href="{% static 'css/nucleo-icons.css' %}" rel="stylesheet" /> -->
    <!-- <link href="{% static 'css/nucleo-svg.css' %}" rel="stylesheet" /> -->
    <!-- Popper -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <!-- Required chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Main Styling -->
    <!-- <link href="{% static 'css/styles.css?v=1.0.2' %}" rel="stylesheet" />     -->
    {% tailwind_css %}
    <title>Weather App</title>
</head>

<body class="m-0 font-dongle antialiased font-normal min-h-screen text-size-base leading-default">
    {% include 'components/hero.html' %}
    <main class="flex flex-col mx-auto relative {{daytime|yesno:'bg-blue-500 for true,bg-indigo-900 for false'}}">
        <div class="w-full max-w-5xl mx-auto">
            <div class="w-full flex-wrap items-center justify-between border-0 p-0 shadow-none text-white">
                <div class="ease-soft-in-out h-full w-full transition-all duration-200">
                    
                    <!-- cards -->
                    <div class="w-full px-6 py-6 mx-auto">
                        <h6 class="mt-6 mb-0 ml-2 uppercase font-bold text-white">Today</h6>
                        <p class="ml-2 py-2 pb-2 text-white">{{ current_weather }} throughout the day</p>
                        <!-- cards row 1 -->
                        <div class="flex flex-wrap -mx-3 {{daytime|yesno:'text-black for true,text-white for false'}}">
    
                            <!-- card1 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Air Quality</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ air_quality_index }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-sandstorm text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card2 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Humidity</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ humidity }}%
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-xl rounded-lg">
                                                    <i class="wi wi-humidity text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card3 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Precipitation</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ chance_of_rain }}%
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-rain text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card4 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div class="">
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Wind Speed</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ wind_speed }} {{ speed_unit }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-strong-wind text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card5 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Air Pressure</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ pressure }} {{ pressure_unit }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-barometer text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card6 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">UV Index</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ uv_index }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-hot text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card7 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Sunrise</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ sunrise_time }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-sunrise text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- card8 -->
                            <div class="w-1/2 px-3 mb-6 sm:flex-none">
                                <div class="relative flex flex-col min-w-0 break-words {{daytime|yesno:'bg-white for true,bg-slate-800 for false'}} shadow-soft-xl rounded-2xl bg-clip-border">
                                    <div class="flex-auto p-4">
                                        <div class="flex flex-row -mx-3">
                                            <div class="flex-none w-2/3 max-w-full px-3">
                                                <div>
                                                    <h5 class="mb-0 font-sans font-semibold leading-normal text-size-sm">Sunset</h5>
                                                    <p class="mb-0 text-lg md:text-xl xl:text-3xl font-bold">
                                                        {{ sunset_time }}
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="px-3 text-right basis-1/3">
                                                <div class="inline-block w-12 h-12 text-center items-center text-3xl rounded-lg">
                                                    <i class="wi wi-sunset text-size-lg relative"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- end cards -->
    
                    <div class="items-center block w-auto overflow-auto">
                        <div class="flex flex-col pl-0 mb-0">
                            <div class="block px-8 py-6 m-0 text-size-sm whitespace-nowrap ">
                                <h6 class="mt-6 mb-0 ml-2 uppercase font-bold text-white text-2xl">Upcoming</h6>
                                <div class="flex flex-col">
                                    <h6 class="mt-6 mb-0 ml-2 uppercase font-semibold">Next 48 Hours</h6>
    
                                    <div class="hourly-forecast flex flex-col justify-center w-full md:flex-col md:justify-start p-2 max-h-[24rem] overscroll-contain overflow-x-auto overflow-y-auto gap-x-7">
                                        <div class="hourly flex flex-row flex-wrap md:flex-col justify-center md:justify-start gap-x-7">
                                            <div id="hourly-temps" class="flex flex-col md:flex-row justify-evenly ">
                                                <div class="flex flex-row">
                                                    <div class="flex flex-row justify-evenly gap-x-7">
                                                        {% for hour, temp, icon in hourly_forecast_content %}
                                                            <div class="flex flex-col justify-evenly gap-x-20">
                                                                <div class="text-sm justify-start">
                                                                    <p class="text-sm w-10">{{ hour }}</p>
                                                                </div>
                                                                <div class="justify-start w-10">
                                                                    <i class="owi owi-{{ icon }}"></i>
                                                                </div>
                                                                <div class="flex flex-col justify-start w-10">
                                                                    <p class="text-sm">{{ temp }}{{ degree_unit }}</p>
                                                                </div>
                                                            </div>
                                                        {% endfor %}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
    
                                    <h6 class="mt-6 mb-0 ml-2 font-semibold uppercase">Next 7 days</h6>
    
                                    <div class="daily-forecast flex flex-col p-2 overflow-x-auto overflow-y-auto">
                                        {% for day, description, high_temp, low_temp, icon in daily_forecast_content %}
                                            <div class="flex flex-row flex-wrap py-2 justify-between items-center">
                                                <div class="flex flex-row w-2/3 gap-x-6">
                                                    <div class="flex items-center text-xl">
                                                        <i class="owi owi-{{ icon }}"></i>
                                                    </div>
                                                    <div class="flex flex-col font-semibold">
                                                        <p class="text-sm">{{ day }}</p>
                                                        <p class="text-sm">{{ description }}</p>
                                                    </div>
                                                </div>
                                                <div class="flex flex-col justify-start w-1/3">
                                                    <p class="flex justify-end text-sm">{{ high_temp }}{{ degree_unit }} / {{ low_temp }}{{ degree_unit }}</p>
                                                </div> 
                                            </div>
                                        {% endfor %}
                                    </div> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- Trends -->
                <div class="w-full px-6 py-6 mx-auto text-white">
                    <h6 class="mt-6 mb-0 ml-2 uppercase font-bold text-2xl">Trends</h6>
                    <!-- <p>{{lat}},{{lon}}</p> -->
                    <div class="flex-auto p-4">
                        <!-- <div>
                        <canvas id="chart-line" height="300"></canvas>
                        </div> -->
                        {% include 'components/stackedareachart.html' %}
                    </div>
                </div>

                <div class="flex flex-col w-full text-white">
                    <div class="w-full px-6 py-6 mx-auto">
                        <h6 class="mt-6 mb-0 ml-2 font-bold uppercase text-2xl">Radar</h6>
                        <div class="min-w-fit">
                            {% include 'components/radar.html' %}
                        </div>
                    </div>
                    <div class="w-full h-96 px-6 py-6 mx-auto">
                        <h6 class="mt-6 mb-0 ml-2 font-bold uppercase text-2xl">Alerts</h6>
                        <!-- <p class="mt-6 mb-0 ml-2">{{ alert_description }}</p>
                        <span class="error text-sm flex flex-wrap">
                            <p id="alerts-error">{{no_alerts_msg }}</p>
                        </span> -->
                        {% include 'components/alerts.html' %}
                    </div>
                    <!-- <div class="w-full px-6 py-6 mx-auto">
                        <h6 class="mt-6 mb-0 ml-2 font-bold uppercase">Latest News</h6>
                    </div> -->
                </div>
            </div>       
        </div>

            <!-- <hr class="h-px mt-0 border-2 border-white" /> -->        
    </div>
        
    </main>
    {% include 'components/footer.html' %}
    {% include 'components/script-tags.html' %}
</body>
</html>